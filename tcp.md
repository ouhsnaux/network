# TCP

## 三次握手

保证双方都确认对方发送和接受能力正常，第二次发送为合并请求

客户端 TO 服务器 SYN
服务器 TO 客户端 SYN - ACK
客户端 TO 服务器 ACK

## 顺序

保证多个消息的顺序，即使后发限制也能正确处理

seq 之前共发送了多少数据
ack 之前共接收了多少数据

在一定的时间窗口内先处理序号最小的那一条

## 四次挥手

保证关闭前，所有回话都已处理

客户端 TO 服务器 FIN
服务器 TO 客户端 ACK
服务器 TO 客户端 FIN 等待服务端所有会话已处理
客户端 TO 服务器 ACK 等待客户端所有会话已处理
